<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>File Upload and Search</title>
  <link rel="stylesheet" href="index.css">
</head>

<body class="everything">

  <nav class="nav">
    <div class="logo-left">
      <img class="bombLogo" src="https://file.garden/ZhkD9yUtsAenJzxk/SMS%20logo.png" alt="bomb logo">
    </div>

  </nav>

  <main class="main">
    <div class="uploadContainer">
      <div class="uploadHeader">
        <input class="searchContentBar" type="text" id="searchFiles" onkeyup="myFunction()"
          placeholder="Search files...">
        <form action="/action_page.php">
          <label for="files">Select files:</label>
          <br>
          <input class="buttonBig" type="file" id="files" name="files" multiple><br><br>
        </form>
        <!-- <input type="file" class="uploadB" id="files" name="files" webkitdirectory directory> -->
      </div>

      <table id="fileTable">
        <thead>
          <th>File Name</th>
          <th>File Description</th>
        </thead>
        <tbody id="fileList"></tbody>
      </table>
    </div>
    <!-- <div class="uploadB">
      <button class="buttonBig">
        <span class="searchbutton">UPLOAD</span>
      </button>
    </div> -->

    <div class="searchContainer">
      <div>
        <input class="searchContentBar" type="text" id="searchContent2" onkeyup="myFunction()"
          placeholder="File description...">
      </div>

      <div class="searchCategoryHeader">Choose File Types</div>

      <div class="filterContainer">
        <label class="cbcontainer" id="filter pdf">
          <input type="checkbox" checked="checked">
          <span class="checkmark"></span>
          <span>.pdf</span>
        </label>
        <label class="cbcontainer" id="filter pdf">
          <input type="checkbox" checked="checked">
          <span class="checkmark"></span>
          <span>.csv</span>
        </label>
        <label class="cbcontainer" id="filter pdf">
          <input type="checkbox" checked="checked">
          <span class="checkmark"></span>
          <span>.png</span>
        </label>

        <label class="cbcontainer" id="filter doc">
          <input type="checkbox" checked="checked">
          <span class="checkmark"></span>
          <span>.doc</span>
        </label>
        <label class="cbcontainer" id="filter pdf">
          <input type="checkbox" checked="checked">
          <span class="checkmark"></span>
          <span>.mp4</span>
        </label>

        <label class="cbcontainer" id="filter txt">
          <input type="checkbox" checked="checked">
          <span class="checkmark"></span>
          <span>.txt</span>
        </label>
        <label class="cbcontainer" id="filter pdf">
          <input type="checkbox" checked="checked">
          <span class="checkmark"></span>
          <span>.xlsx</span>
        </label>

        <label class="cbcontainer" id="filter mov">
          <input type="checkbox" checked="checked">
          <span class="checkmark"></span>
          <span>.mov</span>
        </label>
        <label class="cbcontainer" id="filter jpeg">
          <input type="checkbox" checked="checked">
          <span class="checkmark"></span>
          <span>.jpeg</span>
        </label>
      </div>

      <div class="button">
        <button class="buttonBig">
          <span class="searchbutton">SEARCH</span>
        </button>
      </div>

    </div>

    <script>
      window.api.queryAll().then(({ event, data }) => {
        const fileList = document.getElementById('fileList');
        for (const key in data.response) {
          const tr = document.createElement('tr');

          const file = document.createElement('td');
          file.innerHTML = key;
          tr.appendChild(file);

          const fileDescription = document.createElement('td');
          fileDescription.innerHTML = data.response[key];
          tr.appendChild(fileDescription);

          fileList.appendChild(tr);

          tr.onclick = () => {
            window.api.openFile(key);
          }
        }
      });
    </script>

  </main>



</body>

</html>
